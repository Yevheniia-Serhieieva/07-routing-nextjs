{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/loading.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"text\": \"loading-module__PBh0PW__text\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA"}},
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%90%D0%B4%D0%BC%D0%B8%D0%BD/Documents/GitHub/07-routing-nextjs/app/loading.tsx"],"sourcesContent":["import css from './loading.module.css';\r\n\r\nexport default function Loading() {\r\n  return (\r\n    <>\r\n      <p className={css.text}>Loading, please wait...</p>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEe,SAAS;IACtB,qBACE;kBACE,cAAA,8OAAC;YAAE,WAAW,qIAAG,CAAC,IAAI;sBAAE;;;;;;;AAG9B","debugId":null}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/NoteList/NoteList.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"button\": \"NoteList-module__LCs_aq__button\",\n  \"content\": \"NoteList-module__LCs_aq__content\",\n  \"footer\": \"NoteList-module__LCs_aq__footer\",\n  \"link\": \"NoteList-module__LCs_aq__link\",\n  \"list\": \"NoteList-module__LCs_aq__list\",\n  \"listItem\": \"NoteList-module__LCs_aq__listItem\",\n  \"tag\": \"NoteList-module__LCs_aq__tag\",\n  \"title\": \"NoteList-module__LCs_aq__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%90%D0%B4%D0%BC%D0%B8%D0%BD/Documents/GitHub/07-routing-nextjs/lib/api.ts"],"sourcesContent":["import { Note, NoteTag } from '@/types/note';\r\nimport axios from 'axios';\r\n\r\ninterface NoteListResponse {\r\n  notes: Note[];\r\n  totalPages: number;\r\n}\r\n\r\nexport type Tag = {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n};\r\n\r\naxios.defaults.baseURL = `https://notehub-public.goit.study/api`;\r\nconst myKey = process.env.NEXT_PUBLIC_NOTEHUB_TOKEN;\r\n\r\nexport const getNotes = async (\r\n  page: number = 1,\r\n  perPage: number = 12,\r\n  search?: string,\r\n  tag?: string\r\n): Promise<NoteListResponse> => {\r\n  const response = await axios.get<NoteListResponse>(`/notes`, {\r\n    params: {\r\n      page,\r\n      perPage,\r\n      ...(search ? { search } : {}),\r\n      tag,\r\n    },\r\n    headers: {\r\n      accept: 'application/json',\r\n      Authorization: `Bearer ${myKey}`,\r\n    },\r\n  });\r\n\r\n  return response.data;\r\n};\r\n\r\nexport const fetchNoteById = async (id: string): Promise<Note> => {\r\n  const response = await axios.get<Note>(`/notes/${id}`, {\r\n    headers: {\r\n      accept: 'application/json',\r\n      Authorization: `Bearer ${myKey}`,\r\n    },\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const createNote = async (title: string, content: string, tag: NoteTag): Promise<Note> => {\r\n  const newNote = {\r\n    title,\r\n    content,\r\n    tag,\r\n  };\r\n\r\n  const response = await axios.post<Note>(`/notes`, newNote, {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${myKey}`,\r\n    },\r\n  });\r\n\r\n  return response.data;\r\n};\r\n\r\nexport const deleteNote = async (id: string): Promise<Note> => {\r\n  const response = await axios.delete<Note>(`/notes/${id}`, {\r\n    headers: {\r\n      accept: 'application/json',\r\n      Authorization: `Bearer ${myKey}`,\r\n    },\r\n  });\r\n\r\n  return response.data;\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;AACA;;AAeA,gJAAK,CAAC,QAAQ,CAAC,OAAO,GAAG,CAAC,qCAAqC,CAAC;AAChE,MAAM;AAEC,MAAM,WAAW,OACtB,OAAe,CAAC,EAChB,UAAkB,EAAE,EACpB,QACA;IAEA,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAAmB,CAAC,MAAM,CAAC,EAAE;QAC3D,QAAQ;YACN;YACA;YACA,GAAI,SAAS;gBAAE;YAAO,IAAI,CAAC,CAAC;YAC5B;QACF;QACA,SAAS;YACP,QAAQ;YACR,eAAe,CAAC,OAAO,EAAE,OAAO;QAClC;IACF;IAEA,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,gBAAgB,OAAO;IAClC,MAAM,WAAW,MAAM,gJAAK,CAAC,GAAG,CAAO,CAAC,OAAO,EAAE,IAAI,EAAE;QACrD,SAAS;YACP,QAAQ;YACR,eAAe,CAAC,OAAO,EAAE,OAAO;QAClC;IACF;IACA,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,aAAa,OAAO,OAAe,SAAiB;IAC/D,MAAM,UAAU;QACd;QACA;QACA;IACF;IAEA,MAAM,WAAW,MAAM,gJAAK,CAAC,IAAI,CAAO,CAAC,MAAM,CAAC,EAAE,SAAS;QACzD,SAAS;YACP,gBAAgB;YAChB,eAAe,CAAC,OAAO,EAAE,OAAO;QAClC;IACF;IAEA,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,aAAa,OAAO;IAC/B,MAAM,WAAW,MAAM,gJAAK,CAAC,MAAM,CAAO,CAAC,OAAO,EAAE,IAAI,EAAE;QACxD,SAAS;YACP,QAAQ;YACR,eAAe,CAAC,OAAO,EAAE,OAAO;QAClC;IACF;IAEA,OAAO,SAAS,IAAI;AACtB","debugId":null}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%90%D0%B4%D0%BC%D0%B8%D0%BD/Documents/GitHub/07-routing-nextjs/components/NoteList/NoteList.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport css from './NoteList.module.css';\r\nimport type { Note } from '../../types/note';\r\nimport toast from 'react-hot-toast';\r\nimport { deleteNote } from '@/lib/api';\r\nimport Link from 'next/link';\r\n\r\ninterface NoteListProps {\r\n  notes: Note[];\r\n}\r\n\r\nexport default function NoteList({ notes }: NoteListProps) {\r\n  const queryClient = useQueryClient();\r\n\r\n  const mutation = useMutation({\r\n    mutationFn: deleteNote,\r\n    onSuccess: () => {\r\n      toast.success('Note deleted');\r\n      queryClient.invalidateQueries({ queryKey: ['notes'] });\r\n    },\r\n    onError: () => {\r\n      toast.error('Failed to delete note');\r\n    },\r\n  });\r\n\r\n  const handleDelete = (id: string) => {\r\n    mutation.mutate(id);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ul className={css.list}>\r\n        {notes.map(note => (\r\n          <li key={note.id} className={css.listItem}>\r\n            <h2 className={css.title}>{note.title}</h2>\r\n            <p className={css.content}>{note.content}</p>\r\n            <div className={css.footer}>\r\n              <span className={css.tag}>{note.tag}</span>\r\n              <Link href={`/notes/${note.id}`} className={css.link}>\r\n                View\r\n              </Link>\r\n              <button\r\n                onClick={() => handleDelete(note.id)}\r\n                className={css.button}\r\n                disabled={mutation.isPending}\r\n              >\r\n                Delete\r\n              </button>\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AAEA;AACA;AACA;AAPA;;;;;;;AAae,SAAS,SAAS,EAAE,KAAK,EAAiB;IACvD,MAAM,cAAc,IAAA,wMAAc;IAElC,MAAM,WAAW,IAAA,6LAAW,EAAC;QAC3B,YAAY,wHAAU;QACtB,WAAW;YACT,kKAAK,CAAC,OAAO,CAAC;YACd,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;iBAAQ;YAAC;QACtD;QACA,SAAS;YACP,kKAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,MAAM,eAAe,CAAC;QACpB,SAAS,MAAM,CAAC;IAClB;IAEA,qBACE;kBACE,cAAA,8OAAC;YAAG,WAAW,yJAAG,CAAC,IAAI;sBACpB,MAAM,GAAG,CAAC,CAAA,qBACT,8OAAC;oBAAiB,WAAW,yJAAG,CAAC,QAAQ;;sCACvC,8OAAC;4BAAG,WAAW,yJAAG,CAAC,KAAK;sCAAG,KAAK,KAAK;;;;;;sCACrC,8OAAC;4BAAE,WAAW,yJAAG,CAAC,OAAO;sCAAG,KAAK,OAAO;;;;;;sCACxC,8OAAC;4BAAI,WAAW,yJAAG,CAAC,MAAM;;8CACxB,8OAAC;oCAAK,WAAW,yJAAG,CAAC,GAAG;8CAAG,KAAK,GAAG;;;;;;8CACnC,8OAAC,uKAAI;oCAAC,MAAM,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE;oCAAE,WAAW,yJAAG,CAAC,IAAI;8CAAE;;;;;;8CAGtD,8OAAC;oCACC,SAAS,IAAM,aAAa,KAAK,EAAE;oCACnC,WAAW,yJAAG,CAAC,MAAM;oCACrB,UAAU,SAAS,SAAS;8CAC7B;;;;;;;;;;;;;mBAZI,KAAK,EAAE;;;;;;;;;;;AAqB1B","debugId":null}},
    {"offset": {"line": 309, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/Pagination/Pagination.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"active\": \"Pagination-module__QyWOzW__active\",\n  \"pagination\": \"Pagination-module__QyWOzW__pagination\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 317, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%90%D0%B4%D0%BC%D0%B8%D0%BD/Documents/GitHub/07-routing-nextjs/components/Pagination/Pagination.tsx"],"sourcesContent":["import css from \"./Pagination.module.css\";\r\nimport ReactPaginate from \"react-paginate\";\r\n\r\ninterface PaginationProps {\r\n  pageCount: number;\r\n  currentPage: number;\r\n  onPageChange: (page: number) => void;\r\n}\r\n\r\nexport default function Pagination({\r\n  pageCount,\r\n  currentPage,\r\n  onPageChange,\r\n}: PaginationProps) {\r\n  const handlePageClick = ({ selected }: { selected: number }) => {\r\n    const next = selected + 1;\r\n    if (next !== currentPage) onPageChange(next);\r\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ReactPaginate\r\n        pageCount={pageCount}\r\n        pageRangeDisplayed={5}\r\n        marginPagesDisplayed={1}\r\n        onPageChange={handlePageClick}\r\n        forcePage={currentPage - 1}\r\n        containerClassName={css.pagination}\r\n        activeClassName={css.active}\r\n        nextLabel=\"→\"\r\n        previousLabel=\"←\"\r\n      />\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAQe,SAAS,WAAW,EACjC,SAAS,EACT,WAAW,EACX,YAAY,EACI;IAChB,MAAM,kBAAkB,CAAC,EAAE,QAAQ,EAAwB;QACzD,MAAM,OAAO,WAAW;QACxB,IAAI,SAAS,aAAa,aAAa;QACvC,OAAO,QAAQ,CAAC;YAAE,KAAK;YAAG,UAAU;QAAS;IAC/C;IAEA,qBACE;kBACE,cAAA,8OAAC,yKAAa;YACZ,WAAW;YACX,oBAAoB;YACpB,sBAAsB;YACtB,cAAc;YACd,WAAW,cAAc;YACzB,oBAAoB,6JAAG,CAAC,UAAU;YAClC,iBAAiB,6JAAG,CAAC,MAAM;YAC3B,WAAU;YACV,eAAc;;;;;;;AAItB","debugId":null}},
    {"offset": {"line": 358, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%90%D0%B4%D0%BC%D0%B8%D0%BD/Documents/GitHub/07-routing-nextjs/app/notes/filter/%5B...slug%5D/Notes.client.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Loading from '@/app/loading';\r\nimport NoteList from '@/components/NoteList/NoteList';\r\nimport Pagination from '@/components/Pagination/Pagination';\r\nimport { getNotes } from '@/lib/api';\r\nimport { Note } from '@/types/note';\r\nimport { keepPreviousData, useQuery } from '@tanstack/react-query';\r\nimport { useParams } from 'next/navigation';\r\nimport { useEffect, useState } from 'react';\r\n\r\ntype NotesProps = {\r\n  tag?: string;\r\n};\r\n\r\nexport default function Notes({ tag }: NotesProps) {\r\n  const [notes, setNotes] = useState<Note[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [search, setSearch] = useState('');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const debouncedSearch = useDebounce(search, 500);\r\n  const queryClient = useQueryClient();\r\n\r\n  const { data, isLoading, isError } = useQuery({\r\n    queryKey: ['notes', { page: currentPage, search: debouncedSearch, tag }],\r\n    queryFn: () => getNotes(currentPage, 12, debouncedSearch, tag),\r\n    placeholderData: keepPreviousData,\r\n  });\r\n\r\n  const handlePageChange = (currentPage: number) => {\r\n    setCurrentPage(currentPage);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchNotes = async () => {\r\n      setIsLoading(true);\r\n      try {\r\n        const res = await getNotes(1, 12, tag);\r\n        setNotes(res.notes);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchNotes();\r\n  }, [tag]);\r\n\r\n  if (isLoading) return <Loading />;\r\n\r\n  return (\r\n    <div>\r\n      <h1> {tag ? `Notes: '${tag}'` : 'All notes'} </h1>\r\n      <button\r\n        onClick={() => setIsModalOpen(true)}\r\n        className=\"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700\"\r\n      >\r\n        + New Note\r\n      </button>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Search notes...\"\r\n        value={search}\r\n        onChange={e => {\r\n          setSearch(e.target.value);\r\n          setCurrentPage(1);\r\n        }}\r\n      />\r\n\r\n      {notes.length > 0 && <NoteList notes={notes} />}\r\n      <Pagination\r\n        pageCount={totalPages}\r\n        currentPage={currentPage}\r\n        onPageChange={handlePageChange}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AATA;;;;;;;;AAee,SAAS,MAAM,EAAE,GAAG,EAAc;IAC/C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,kBAAkB,YAAY,QAAQ;IAC5C,MAAM,cAAc;IAEpB,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,IAAA,uLAAQ,EAAC;QAC5C,UAAU;YAAC;YAAS;gBAAE,MAAM;gBAAa,QAAQ;gBAAiB;YAAI;SAAE;QACxE,SAAS,IAAM,IAAA,sHAAQ,EAAC,aAAa,IAAI,iBAAiB;QAC1D,iBAAiB,2LAAgB;IACnC;IAEA,MAAM,mBAAmB,CAAC;QACxB,eAAe;IACjB;IAEA,IAAA,kNAAS,EAAC;QACR,MAAM,aAAa;YACjB,aAAa;YACb,IAAI;gBACF,MAAM,MAAM,MAAM,IAAA,sHAAQ,EAAC,GAAG,IAAI;gBAClC,SAAS,IAAI,KAAK;YACpB,SAAU;gBACR,aAAa;YACf;QACF;QAEA;IACF,GAAG;QAAC;KAAI;IAER,IAAI,WAAW,qBAAO,8OAAC,0HAAO;;;;;IAE9B,qBACE,8OAAC;;0BACC,8OAAC;;oBAAG;oBAAE,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,GAAG;oBAAY;;;;;;;0BAC5C,8OAAC;gBACC,SAAS,IAAM,eAAe;gBAC9B,WAAU;0BACX;;;;;;0BAGD,8OAAC;gBACC,MAAK;gBACL,aAAY;gBACZ,OAAO;gBACP,UAAU,CAAA;oBACR,UAAU,EAAE,MAAM,CAAC,KAAK;oBACxB,eAAe;gBACjB;;;;;;YAGD,MAAM,MAAM,GAAG,mBAAK,8OAAC,8IAAQ;gBAAC,OAAO;;;;;;0BACtC,8OAAC,kJAAU;gBACT,WAAW;gBACX,aAAa;gBACb,cAAc;;;;;;;;;;;;AAItB","debugId":null}}]
}